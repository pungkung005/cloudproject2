{"ast":null,"code":"import _regeneratorRuntime from\"C:/coding/cloud/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/coding/cloud/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/coding/cloud/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate}from'react-router-dom';import React,{useState}from\"react\";import{Header}from'./Header';import'./App.css';import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api_url=\"http://localhost:38080/\";function Main(){var navigate=useNavigate();// var image_height;\n// var image_width;\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setimage=_useState2[1];var formdata=new FormData();formdata.append(\"image\",image);var upload=function upload(){var img=new Image();img.src=window.URL.createObjectURL(image);img.onload=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var image_height,image_width,image_size,image_type;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:image_height=img.naturalHeight;image_width=img.naturalWidth;image_size=image.size;image_type=image.type;window.URL.revokeObjectURL(img.src);if(image_height>200){alert(\"Dimention of height over 200px\");}else if(image_width>200){alert(\"Dimention of width over 200px \");}else if(image_size>=51200){alert(\"this file is size over 50KB\");}else if(image_type!=\"image/jpeg\"){alert(\"this file isn't a jpg\");}else{Axios.post(api_url+\"upload\",formdata).then(function(response){console.log(response);});console.log(image);}case 6:case\"end\":return _context.stop();}}},_callee);}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"body1 \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header\",children:\"Main\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return setimage(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:upload,children:\"upload\"}),\"  \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate('/Login');},children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]});}export default Main;","map":{"version":3,"names":["useNavigate","React","useState","Header","Axios","api_url","Main","navigate","image","setimage","formdata","FormData","append","upload","img","Image","src","window","URL","createObjectURL","onload","image_height","naturalHeight","image_width","naturalWidth","image_size","size","image_type","type","revokeObjectURL","alert","post","then","response","console","log","e","target","files"],"sources":["C:/coding/cloud/src/Main.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom'\r\nimport React, { useState } from \"react\";\r\nimport { Header } from './Header'\r\nimport './App.css';\r\nimport Axios from 'axios';\r\n\r\n\r\nconst api_url = \"http://localhost:38080/\"\r\n\r\nfunction Main() {\r\n    let navigate = useNavigate()\r\n\r\n    // var image_height;\r\n    // var image_width;\r\n\r\n    const [image, setimage] = useState(\"\");\r\n\r\n    var formdata = new FormData()\r\n\r\n    formdata.append(\"image\", image)\r\n\r\n\r\n\r\n    const upload = () => {\r\n\r\n        var img = new Image()\r\n\r\n        img.src = window.URL.createObjectURL(image)\r\n\r\n        img.onload = async function () {\r\n\r\n            const image_height = img.naturalHeight\r\n            const image_width = img.naturalWidth\r\n            const image_size = image.size\r\n            const image_type = image.type\r\n\r\n            window.URL.revokeObjectURL(img.src)\r\n\r\n            if (image_height > 200) {\r\n                alert(\"Dimention of height over 200px\")\r\n            }\r\n\r\n            else if (image_width > 200) {\r\n                alert(\"Dimention of width over 200px \")\r\n            }\r\n\r\n            else if (image_size >= 51200) {\r\n                alert(\"this file is size over 50KB\")\r\n            }\r\n\r\n            else if (image_type != \"image/jpeg\") {\r\n                alert(\"this file isn't a jpg\")\r\n            }\r\n            else {\r\n                Axios.post(api_url + \"upload\",\r\n                    formdata\r\n                ).then((response) => {\r\n                    console.log(response)\r\n                })\r\n                console.log(image)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div className='body1 '>\r\n            <h1 className='header'>Main</h1>\r\n            <br></br>\r\n            <input type={\"file\"} onChange={(e) => setimage(e.target.files[0])} ></input><br></br><br></br>\r\n            <button onClick={(upload)}>upload</button>  <br></br><br></br>\r\n            <button onClick={() => navigate('/Login')}>ออกจากระบบ</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Main;"],"mappings":"+TAAA,OAASA,WAAT,KAA4B,kBAA5B,CACA,MAAOC,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,MAAO,WAAP,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAGA,GAAMC,QAAO,CAAG,yBAAhB,CAEA,QAASC,KAAT,EAAgB,CACZ,GAAIC,SAAQ,CAAGP,WAAW,EAA1B,CAEA;AACA;AAEA,cAA0BE,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eAEA,GAAIC,SAAQ,CAAG,GAAIC,SAAJ,EAAf,CAEAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBJ,KAAzB,EAIA,GAAMK,OAAM,CAAG,QAATA,OAAS,EAAM,CAEjB,GAAIC,IAAG,CAAG,GAAIC,MAAJ,EAAV,CAEAD,GAAG,CAACE,GAAJ,CAAUC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BX,KAA3B,CAAV,CAEAM,GAAG,CAACM,MAAJ,wEAAa,wLAEHC,YAFG,CAEYP,GAAG,CAACQ,aAFhB,CAGHC,WAHG,CAGWT,GAAG,CAACU,YAHf,CAIHC,UAJG,CAIUjB,KAAK,CAACkB,IAJhB,CAKHC,UALG,CAKUnB,KAAK,CAACoB,IALhB,CAOTX,MAAM,CAACC,GAAP,CAAWW,eAAX,CAA2Bf,GAAG,CAACE,GAA/B,EAEA,GAAIK,YAAY,CAAG,GAAnB,CAAwB,CACpBS,KAAK,CAAC,gCAAD,CAAL,CACH,CAFD,IAIK,IAAIP,WAAW,CAAG,GAAlB,CAAuB,CACxBO,KAAK,CAAC,gCAAD,CAAL,CACH,CAFI,IAIA,IAAIL,UAAU,EAAI,KAAlB,CAAyB,CAC1BK,KAAK,CAAC,6BAAD,CAAL,CACH,CAFI,IAIA,IAAIH,UAAU,EAAI,YAAlB,CAAgC,CACjCG,KAAK,CAAC,uBAAD,CAAL,CACH,CAFI,IAGA,CACD1B,KAAK,CAAC2B,IAAN,CAAW1B,OAAO,CAAG,QAArB,CACIK,QADJ,EAEEsB,IAFF,CAEO,SAACC,QAAD,CAAc,CACjBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACH,CAJD,EAKAC,OAAO,CAACC,GAAR,CAAY3B,KAAZ,EACH,CA/BQ,sDAAb,GAiCH,CAvCD,CAyCA,mBAEI,aAAK,SAAS,CAAC,QAAf,wBACI,WAAI,SAAS,CAAC,QAAd,kBADJ,cAEI,aAFJ,cAGI,cAAO,IAAI,CAAE,MAAb,CAAqB,QAAQ,CAAE,kBAAC4B,CAAD,QAAO3B,SAAQ,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAf,EAA/B,EAHJ,cAGgF,aAHhF,cAGyF,aAHzF,cAII,eAAQ,OAAO,CAAGzB,MAAlB,oBAJJ,mBAIgD,aAJhD,cAIyD,aAJzD,cAKI,eAAQ,OAAO,CAAE,yBAAMN,SAAQ,CAAC,QAAD,CAAd,EAAjB,0EALJ,GAFJ,CAUH,CACD,cAAeD,KAAf"},"metadata":{},"sourceType":"module"}