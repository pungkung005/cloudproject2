{"ast":null,"code":"import _regeneratorRuntime from\"C:/coding/cloud/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"C:/coding/cloud/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"C:/coding/cloud/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useState}from'react';import{useNavigate}from'react-router-dom';import{Navigate}from'react-router-dom';import'./App.css';import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api_url=\"http://localhost:38080/\";var datap;function getapi(_x){return _getapi.apply(this,arguments);}function _getapi(){_getapi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(api_url){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(api_url);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;showdata(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getapi.apply(this,arguments);}function showdata(data){console.log(data.data);datap=data.username;}getapi(api_url);function Login(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),usernameReg=_useState2[0],setUsernameReg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passwordReg=_useState4[0],setPasswordReg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),usernameLogin=_useState6[0],setUsernameLogin=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordLogin=_useState8[0],setPasswordLogin=_useState8[1];var register=function register(){Axios.post(api_url+\"register\",{username:usernameReg,password:passwordReg}).then(function(response){console.log(response);});};var login=function login(){Axios.post(api_url+\"login\",{username:usernameLogin,password:passwordLogin}).then(function(response){if(response.data.count==0){alert(\"no use found\");}if(response.data.count==1){navigate('/main');}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"body1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header\",children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:usernameLogin,placeholder:\"enter text\",onChange:function onChange(e){return setUsernameLogin(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:passwordLogin,placeholder:\"enter text\",onChange:function onChange(e){return setPasswordLogin(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\"login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:usernameReg,placeholder:\"enter text\",onChange:function onChange(e){return setUsernameReg(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:passwordReg,placeholder:\"enter text\",onChange:function onChange(e){return setPasswordReg(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"\",onClick:register,children:\"register\"})]});}export default Login;","map":{"version":3,"names":["useState","useNavigate","Navigate","Axios","api_url","datap","getapi","fetch","response","json","data","showdata","console","log","username","Login","navigate","usernameReg","setUsernameReg","passwordReg","setPasswordReg","usernameLogin","setUsernameLogin","passwordLogin","setPasswordLogin","register","post","password","then","login","count","alert","e","target","value"],"sources":["C:/coding/cloud/src/Login.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Navigate } from 'react-router-dom';\r\nimport './App.css'\r\nimport Axios from 'axios';\r\n\r\nconst api_url = \"http://localhost:38080/\"\r\nvar datap\r\n\r\nasync function getapi(api_url) {\r\n    const response = await fetch(api_url)\r\n    var data = await response.json()\r\n    showdata(data)\r\n}\r\n\r\nfunction showdata(data) {\r\n    console.log(data.data)\r\n    datap = data.username\r\n}\r\n\r\ngetapi(api_url)\r\n\r\nfunction Login() {\r\n    let navigate = useNavigate()\r\n\r\n    const [usernameReg, setUsernameReg] = useState(\"\");\r\n    const [passwordReg, setPasswordReg] = useState(\"\");\r\n    const [usernameLogin, setUsernameLogin] = useState(\"\");\r\n    const [passwordLogin, setPasswordLogin] = useState(\"\");\r\n\r\n    const register = () => {\r\n        Axios.post(api_url + \"register\", {\r\n            username: usernameReg,\r\n            password: passwordReg\r\n        }).then((response) => {\r\n            console.log(response)\r\n        })\r\n    }\r\n\r\n    const login = () => {\r\n        Axios.post(api_url + \"login\", {\r\n            username: usernameLogin,\r\n            password: passwordLogin\r\n        }).then((response) => {\r\n            if (response.data.count == 0) {\r\n                alert(\"no use found\")\r\n            }\r\n            if (response.data.count == 1) {\r\n                navigate('/main')\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n\r\n        <div className='body1'>\r\n            <h1 className='header'>Login</h1><br></br>\r\n            <h3>Login</h3>\r\n            <input type={\"text\"} value={usernameLogin} placeholder=\"enter text\" onChange={(e) => setUsernameLogin(e.target.value)} ></input><br></br><br></br>\r\n            <input type={\"text\"} value={passwordLogin} placeholder=\"enter text\" onChange={(e) => setPasswordLogin(e.target.value)}></input><br></br><br></br>\r\n            <button onClick={(login)}>login</button><br></br><br></br>\r\n            <h3>Register</h3>\r\n            <input type={\"text\"} value={usernameReg} placeholder=\"enter text\" onChange={(e) => setUsernameReg(e.target.value)} ></input><br></br><br></br>\r\n            <input type={\"text\"} value={passwordReg} placeholder=\"enter text\" onChange={(e) => setPasswordReg(e.target.value)}></input><br></br><br></br>\r\n            <button className='' onClick={(register)}>register</button>\r\n\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}